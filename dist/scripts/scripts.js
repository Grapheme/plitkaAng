"use strict";angular.module("plitkaApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$httpProvider",function(a){a.defaults.cache=!0}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"MCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/contacts",{templateUrl:"views/contacts.html",controller:"ContactsCtrl",controllerAs:"ContCtrl"}).when("/articles",{templateUrl:"views/articles.html",controller:"ArticlesCtrl",controllerAs:"ArtCtrl"}).when("/catalog",{templateUrl:"views/catalog.html",controller:"CatalogCtrl",controllerAs:"CatCtrl"}).when("/catalog/:id",{templateUrl:"views/catalog.html",controller:"CatalogCtrl",controllerAs:"CatCtrl"}).when("/projects",{templateUrl:"views/projects.html",controller:"ProjectsCtrl",controllerAs:"ProjCtrl"}).when("/article/:id",{templateUrl:"views/separticle.html",controller:"SeparticleCtrl",controllerAs:"SepCtrl"}).when("/404",{templateUrl:"views/404.html"}).when("/search-results",{templateUrl:"views/search-results.html",controller:"SearchResultsCtrl"}).otherwise({redirectTo:"/404"})}]),angular.module("plitkaApp").controller("MainCtrl",["$http","$rootScope",function(a){var b=this;a.get("http://plitka.dev.grapheme.ru/application/get").success(function(a){b.data=a,b.articles=b.data.articles,b.photos=b.data.photos,b.articlesArr=$.map(b.articles,function(a){return[a]}),b.promo=b.data.promo}),jQuery(".fotorama").fotorama({width:"100%",height:"400",nav:!1,arrows:"always"})}]),angular.module("plitkaApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],jQuery(".fotorama").fotorama({width:"100%",height:"400",nav:!1,arrows:"always"})}]),angular.module("plitkaApp").controller("ContactsCtrl",["$http",function(){this.mapTo="salon",this.mapCoords={salon:{x:47.244747,y:39.723161},store:{x:47.256845,y:39.624738}},this.setMap=function(a){this.mapTo=a,this.initialize(this.mapCoords[this.mapTo])},this.checkMap=function(a){return this.mapTo===a},this.initialize=function(a){{var b={zoom:15,zoomControl:!1,draggable:!1,scrollwheel:!1,center:new google.maps.LatLng(a.x,a.y),mapTypeId:google.maps.MapTypeId.ROADMAP},c=new google.maps.Map(document.getElementById("map_canvas"),b);new google.maps.Marker({position:b.center,map:c})}},this.setMap("salon"),this.formData={},this.sendForm=function(a){$.post("http://plitka.dev.grapheme.ru/ajax/feedback",{name:a.name,email:a.email,text:a.text}).done(function(){alert("second success")}).fail(function(){alert("error")}).always(function(){alert("finished")})}}]),angular.module("plitkaApp").controller("ArticlesCtrl",["$http","$rootScope",function(a){var b=this;a.get("http://plitka.dev.grapheme.ru/application/get").success(function(a){b.data=a,b.articles=b.data.articles,b.photos=b.data.photos})}]),angular.module("plitkaApp").controller("CatalogCtrl",["$http",function(a){var b=this;a.get("http://plitka.dev.grapheme.ru/application/get").success(function(a){b.data=a,b.productType=b.data.product_type,b.collections=b.data.collections,b.products=b.data.products,b.chosenProduct=b.productType[Object.keys(b.productType)[0]],b.chosenProductId=b.chosenProduct.id,b.collectionsArr=[],console.log(b.collections);for(var c in b.collections)b.collections[c].product_type_id===b.chosenProductId&&b.collectionsArr.push(b.collections[c]);console.log(b.collectionsArr)})}]),angular.module("plitkaApp").controller("ProjectsCtrl",["$http",function(a){var b=this;a.get("http://plitka.dev.grapheme.ru/application/get").success(function(a){b.data=a,b.projects=b.data.projects,b.galleries=b.data.galleries,b.photos=b.data.photos,b.collections=b.data.collections,b.products=b.data.products,b.factory=b.data.factory,b.productTypes=b.data.product_type});$(".fancybox").fancybox({padding:0,helpers:{title:{type:"inside"}}})}]),angular.module("plitkaApp").directive("promoSlider",function(){return{templateUrl:"views/partials/slider.html",restrict:"E",controllee:"SliderCtrl"}}),angular.module("plitkaApp").controller("SliderCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("plitkaApp").controller("SeparticleCtrl",["$http","$routeParams",function(a,b){$("html, body").animate({scrollTop:$("main").offset().top},400);var c=this;a.get("http://plitka.dev.grapheme.ru/application/get").success(function(a){c.data=a,c.articleId=b.id,c.articles=c.data.articles,c.photos=c.data.photos})}]),angular.module("plitkaApp").controller("SearchCtrl",["$http",function(a){var b=this;b.searchStr="",b.sendForm=function(b){a({method:"post",url:"http://plitka.dev.grapheme.ru/ajax/search",data:{searctString:b},headers:{"Content-Type":"application/x-www-form-urlencoded"}});$.post("http://plitka.dev.grapheme.ru/ajax/search",{searctString:b}).success(function(){})}}]),angular.module("plitkaApp").controller("SearchResultsCtrl",function(){var a=this;a.catalogItems=[{},{},{},{}],a.catalogArticles=[{},{},{},{}]});